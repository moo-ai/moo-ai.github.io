<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>MOO-Guide</title>
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <script src="js/jquery-3.3.1.min.js"></script>
        <script src="js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row">
                <div class="col-12" style="font-family: Arial;">
                    <nav class="navbar navbar-expand bg-primary navbar-dark">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="index.html"><b>Home</b></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="workflow.html"><b>WorkFlow</b></a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="status.html"><b>Status</b></a>
                            </li>
                            <li class="nav-item active">
                                <a class="nav-link" href="#"><b>Guide</b></a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="row">
                <div class="col-2" style="font-family: Arial;">
                    <nav id="navbar-example3" class="navbar navbar-light bg-light">
                        <a class="navbar-brand" href="#">Document</a>
                        <nav class="nav nav-pills flex-column">
                            <a class="nav-link" href="#item-1">1. Introduction</a>
                            <nav class="nav nav-pills flex-column">
                                <a class="nav-link ml-3 my-1" href="#item-1-1">1.1 MOO</a>
                                <a class="nav-link ml-3 my-1" href="#item-1-2">1.2 Openlab</a>
                            </nav>
                            <a class="nav-link" href="#item-2">2. How It Work</a>
                            <nav class="nav nav-pills flex-column">
                                <a class="nav-link ml-3 my-1" href="#item-2-1">2.1 Preparation</a>
                                <a class="nav-link ml-3 my-1" href="#item-2-2">2.2 Workflow</a>
                            </nav>
                            <a class="nav-link" href="#item-3">3. Metadata Definition</a>
                            <nav class="nav nav-pills flex-column">
                                <a class="nav-link ml-3 my-1" href="#item-3-1">3.1 Concept</a>
                                <a class="nav-link ml-3 my-1" href="#item-3-2">3.2 Parameters</a>
                                <a class="nav-link ml-3 my-1" href="#item-3-3">3.3 Example</a>
                            </nav>
                        </nav>
                    </nav>
                </div>
                <div class="col-10" style="font-family: Arial;">
                    <div data-spy="scroll" data-target="#navbar-example3" data-offset="0">
                        <h1 data-breakpage id="item-1">1. Introduction</h1>
                        <p>Machine Learning On OpenLab(MOO) aims to help the data experts to reproduce the machine
                            learning environment. This project is based on OpenLab now.</p>
                        <h2 id="item-1-1">1.1 MOO</h2>
                        <p>The reason for MOO, as Machine Learning is hard to reproduce cross multiple environments, as
                            ML lacks:</p>
                        <ul>
                            <li>Declarative Infrastructure. Like: Compute, Storage and Network Layers of the stack.</li>
                            <li>Declarative Systems. Like: Kernel Drivers, Configuration, Management Layers of the
                                stack</li>
                            <li>Pipeline description </li>
                            <li>Data</li>
                            <li>Separation of discrete steps(data preparation, featurization, estimation, evaluation,
                                prediction and etc.</li>

                        </ul>
                        <p>These should be defined declaratively, using vendor neutral tech, to simplify reuse
                            regardless of the choice of environment.</p>
                        <p>So MOO will try to define the model metadata to describe the environment of trained model,
                            such as using tensorflow, version 1.12.0 or 2.0.0, python runtime, python packages and some necessary model
                            description. MOO will use the necessary model information to reproduce the training or
                            inference environment, this includes:</p>
                        <ul>
                            <li>Installing all necessary services in the target host. (Currently, this project only
                                support Tensorflow framework and Python runtime) </li>
                            <li>Provide several ways(indluding dev mode) to touch the environment to do training or inference in the
                                environment.</li>
                            <li>Get the training or inference results and check the performance of your model.</li>

                        </ul>
                        <p>The above is enabled via your pass to MOO.</p>
                        <p>MOO provides CPU machine learning environment. Then MOO will provide a environment to train and get training result to
                            you, also if you want to access the environment to continue developing the model or providing
                            some other new training data to push forward the train process, MOO will provide the related
                            information to you.</p>
                        <h2 id="item-1-2">1.2 Openlab</h2>
                        <p>OpenLab is a community program to test and improve support for the cloud-related SDKs/Tools
                            as well as platforms like Kubernetes, Terraform, CloudFoundry and more. The goal is to
                            improve the usability, reliability and resiliency of tools and applications for hybrid and
                            multi-cloud environments. All of the Machine Learning environments are provided by OpenLab,
                            OpenLab will manage the life cycle of the environment. If you want to know more, please
                            visit <a href='https://docs.openlabtesting.org/publications/'>OpenLab</a></p>
                        <h1 data-breakpage id="item-2">2. How It Work</h1>
                        <h2 id="item-2-1">2.1 Preparation</h2>
                        <p>MOO provides a web UI for simplify the whole things. But before start using MOO, you need to
                            do the following things first.</p>
                        <ol>
                            <li>
                                <p>Module ZIP file preparation</p>
                                <p>MOO will accept a ZIP file or URL which direct to a ZIP file. The ZIP file includes:
                                </p>
                                <ul>
                                    <li>
                                        <p>metadata.yaml </p>
                                        <p>The YAML needs to try to descript the model enviroment and model itself as
                                            much as possible. </p>
                                    </li>
                                    <li>
                                        <p>model python file(Currently only support tensorflow python script) </p>
                                        <p>The python file is treated as the entrypoint to training the specific model.
                                            Notes: The model file provided must be compssed to ZIP format.</p>
                                    </li>

                                </ul>
                            </li>
                            <li>
                                <p>Decide the host place of the ZIP file</p>
                                <ul>
                                    <li>
                                        <p>Host on the website, such as the Object Storage Sever in Huawei Public
                                            Cloud. </p>
                                        <p>MOO supports fetching the ZIP file via URL, you can just provide a URL to
                                            MOO, it will download the ZIP file and begin the train process automaticly.</p>
                                    </li>
                                    <li>
                                        <p>On your local enviroment. </p>
                                        <p>MOO also supports uploading the ZIP file directly. </p>
                                    </li>

                                </ul>
                            </li>
                            <li>
                                <p>CPU</p>
                                <p>Right now CPU backend is supported</p>
                            </li>

                        </ol>
                        <h2 id="item-2-2">2.2 WorkFlow</h2>
                        <p>Here, we had prepared the model file. We can access the web UI then. </p>
                        <p>a. Click &quot;WorkFlow&quot; Sub-Tag: </p>
                        <p><img src='https://moo-ai.github.io/media/1.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p>b. Choose a way to upload your Model ZIP file:</p>
                        <p><img src='https://moo-ai.github.io/media/2.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p><img src='https://moo-ai.github.io/media/3.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p>c. Choose CPU: </p>
                        <p>&nbsp;</p>
                        <p><img src='https://moo-ai.github.io/media/4.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p>d. Login the Environment or not(If running SBIR job, this section must be ticked):</p>
                        <p><img src='https://moo-ai.github.io/media/5.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p>e. Click Submit Button and Enjoy. You will see the Job process histroy here: </p>
                        <p><img src='https://moo-ai.github.io/media/6.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p>Now your model had been submited successful, if you want to see the your Job status, you can
                            just Click &quot;Get Result&quot; Button or forward to &quot;Status&quot;</p>
                        <p><img src='https://moo-ai.github.io/media/7.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p> Or</p>
                        <p><img src='https://moo-ai.github.io/media/8.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p>Here example, we can see the Job name is moo-job-hqx9uo, which is a CPU version Job and we
                            don&#39;t want to login the enviroment(we don&#39;t &quot;âˆš&quot; Login the Environment or
                            not). We will jump to Status page and see the job status. There are several columes: </p>
                        <ul>
                            <li>
                                <p>Job Name </p>
                                <p>The submited job name.</p>
                            </li>
                            <li>
                                <p>Credential</p>
                                <p>The Username and Password to login the ML enviroment provided by MOO. </p>
                            </li>
                            <li>
                                <p>IP Address</p>
                                <p>The public ip address and external port through ssh. </p>
                            </li>
                            <li>
                                <p>ML Result Link</p>
                                <p>The process log or already trained model url. You can access the model after
                                    training by MOO enviroment and the training log. </p>
                            </li>
                            <li>
                                <p>Inference</p>
                                <p>The inference page after model training complete. </p>
                            </li>
                            <li>
                                <p>Status The MOO job status.</p>
                            </li>

                        </ul>
                        <p>Then, let&#39;s search the moo-job-hqx9uo job. </p>
                        <p><img src='https://moo-ai.github.io/media/status1.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <blockquote>
                            <p>In above shows, moo-job-hqx9uo job had been defined as a non login enviroment job. So we
                                can see the Status of moo-job-hqx9uo job is SUCCESS, the ML Result Link and Inference
                                had been generated. If you want to login the Environment, MOO will keep the enviroment
                                for a while, so ML Result Link will be replaced by &quot;Please login the ML enviroment
                                instead!&quot;, and won&#39;t generate the Inference page. </p>
                        </blockquote>
                        <p>f. Go to the Result Link</p>
                        <p><img src='https://moo-ai.github.io/media/result_link1.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p><img src='https://moo-ai.github.io/media/test_result1.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p>In &quot;process.log&quot;, you will see the whole training histroy about your model. In
                            &quot;training_result&quot; directory, we will see the new trained model. </p>
                        <p>g. Taste Online Inference</p>
                        <p><img src='https://moo-ai.github.io/media/inference.PNG' alt='' referrerPolicy='no-referrer' /></p>
                        <p>Now click Inference Go Button to access the Inference page. Upload a new picture or file for
                            pdict, and see the pdiction result in the following Result block.</p>
                        <h1 data-breakpage id="item-3">3. Metadata Definition</h1>
                        <p>Model Metadata spec aims to describe the model train enviroment, module application and
                            parameters during training process as much as possible.</p>
                        <h2 id="item-3-1">3.1 Concept</h2>
                        <p>We&#39;d like to bring up a standard here to describe machine learning environment.The
                            standard is machine learning metadata spec. Typically, operators can reproduce the
                            environment easily with the metadata yaml file. The spec is now just in POC. More feedback
                            is welcome.</p>
                        <h2 id="item-3-2">3.2 Parameters</h2>
                        <ul>
                            <li>
                                <p>Framework</p>
                                <figure>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th style='text-align:left;'>Key</th>
                                                <th style='text-align:left;'>Type</th>
                                                <th style='text-align:left;'>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style='text-align:left;'>name</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>The framework name</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>version</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>The framework version</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>runtime</td>
                                                <td style='text-align:left;'>Object</td>
                                                <td style='text-align:left;'>The framework runtime object</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </figure>
                                <ul>
                                    <li>
                                        <p>runtime</p>
                                        <figure>
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th style='text-align:left;'>Key</th>
                                                        <th style='text-align:left;'>Type</th>
                                                        <th style='text-align:left;'>Description</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td style='text-align:left;'>name</td>
                                                        <td style='text-align:left;'>String</td>
                                                        <td style='text-align:left;'>The framework runtime name</td>
                                                    </tr>
                                                    <tr>
                                                        <td style='text-align:left;'>requirement(optional)</td>
                                                        <td style='text-align:left;'>List</td>
                                                        <td style='text-align:left;'>The third-part library that the
                                                            job depends on</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </figure>
                                    </li>

                                </ul>
                            </li>

                        </ul>
                        <ul>
                            <li>
                                <p>Model</p>
                                <figure>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th style='text-align:left;'>Key</th>
                                                <th style='text-align:left;'>Type</th>
                                                <th style='text-align:left;'>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style='text-align:left;'>name</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>The name of model </td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>version</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>The version of model </td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>source</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>The address of model file. It can be a
                                                    remote or local one</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>creator</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>The author of model </td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>time</td>
                                                <td style='text-align:left;'>Date</td>
                                                <td style='text-align:left;'>The creation time of model</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </figure>
                            </li>

                        </ul>
                        <ul>
                            <li>
                                <p>Dataset</p>
                                <figure>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th style='text-align:left;'>Key</th>
                                                <th style='text-align:left;'>Type</th>
                                                <th style='text-align:left;'>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style='text-align:left;'>name</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>version</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>source</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </figure>
                            </li>
                            <li>
                                <p>data_process</p>
                                <figure>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th style='text-align:left;'>Key</th>
                                                <th style='text-align:left;'>Type</th>
                                                <th style='text-align:left;'>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style='text-align:left;'>data_load</td>
                                                <td style='text-align:left;'>TBD</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>data_split</td>
                                                <td style='text-align:left;'>TBD</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>padding</td>
                                                <td style='text-align:left;'>TBD</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </figure>
                            </li>
                            <li>
                                <p>model_architecture</p>
                                <figure>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th style='text-align:left;'>Key</th>
                                                <th style='text-align:left;'>Type</th>
                                                <th style='text-align:left;'>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style='text-align:left;'>TBD</td>
                                                <td style='text-align:left;'>TBD</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>TBD</td>
                                                <td style='text-align:left;'>TBD</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>TBD</td>
                                                <td style='text-align:left;'>TBD</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </figure>
                            </li>
                            <li>
                                <p>training_params</p>
                                <figure>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th style='text-align:left;'>Key</th>
                                                <th style='text-align:left;'>Type</th>
                                                <th style='text-align:left;'>Description</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style='text-align:left;'>learning_rate</td>
                                                <td style='text-align:left;'>Float</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>loss</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>batch_size</td>
                                                <td style='text-align:left;'>Int</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>epoch</td>
                                                <td style='text-align:left;'>Int</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>optimizer</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                            <tr>
                                                <td style='text-align:left;'>train_op</td>
                                                <td style='text-align:left;'>String</td>
                                                <td style='text-align:left;'>TBD</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </figure>
                            </li>

                        </ul>
                        <h2 id="item-3-3">3.3 Example</h2>
                        <pre style="background-color: #CED4DA;"><code>framework:
  name: tensorflow
  version: 1.12.0
  runtime: python2.7
model:
  name: EMNIST
entry_point: tensorflow_test_mnist.py
output_folder: training_result
</code></pre>

                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
